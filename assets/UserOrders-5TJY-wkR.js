import{_ as l,m as d,g as u,c as i,a as s,t as h,y as p,z as m,F as f,i as _,o as n}from"./index-FDdSSu7m.js";import{S as a}from"./sweetalert2.all-CxW6M65U.js";import{u as g}from"./user-h2UowS-I.js";import{_ as v}from"./footerContainer-TM8Z7Ktg.js";import"./helpers-Hx-ZzB2u.js";const x={name:"UserOrders",components:{},data(){return{title:"會員訂單",orderList:[],userId:0}},mounted(){const{userToken:e,userId:t}=this.getUserCookie();e&&t?(this.userId=t,this.getOrders()):this.$router.push("/login")},methods:{...d(g,["getUserCookie"]),getOrders(){if(!this.userId)return;const e=`https://vue3-course-api.hexschool.io/v2/orders?userId=${this.userId}&_expand=user`;this.$http.get(e).then(t=>{console.log("getOrders",t.data),this.orderList=t.data}).catch(t=>{console.log(t.response)})},removeFavorite(e){!this.userId||!(e!=null&&e.id)||a.fire({title:"確認移除收藏嗎?",text:`商品: ${e.product.chineseName}`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"確定",cancelButtonText:"取消"}).then(t=>{t.isConfirmed&&u.delete(`https://vue3-course-api.hexschool.io/v2/favorite/${e.id}`).then(o=>{this.getFavoriteList(),this.resetUserFavorites(),a.fire({title:"刪除成功",text:"",icon:"success"})}).catch(o=>{console.log(o.response),a.fire({title:"收藏失敗",text:"",icon:"error"})})})}}},$={class:"container mb-5"},w={class:"row"},B={class:"d-flex justify-content-between align-items-end mt-3"},F={class:"mt-5 mb-1 fs-3 font-weight-normal fw-bold"},I=s("option",{value:"1"},"依價格排序 ⬆",-1),k=s("option",{value:"2"},"依價格排序 ⬇",-1),C=[I,k],S=s("img",{src:v,class:"w-100 my-5"},null,-1);function U(e,t,o,b,c,y){return n(),i("div",$,[s("div",w,[s("div",B,[s("h2",F,"會員 / "+h(c.title),1),p(s("select",{class:"filter-sort","onUpdate:modelValue":t[0]||(t[0]=r=>e.sortFilter=r)},C,512),[[m,e.sortFilter]])]),S,(n(!0),i(f,null,_(e.getSortList,r=>(n(),i("div",{class:"col-md-3 mt-3",key:r.id}," Table "))),128))])])}const V=l(x,[["render",U]]);export{V as default};
